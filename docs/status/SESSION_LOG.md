# Session Log

Append one entry per completed session/task block.

Format:
`YYYY-MM-DD | session_scope | outcome | files`

---

2026-02-27 | planning-docs-pack | created v3 plan, quality, and security documentation baselines | docs/plan/*, docs/quality/*, docs/security/*
2026-02-27 | persistent-handoff-setup | added cross-session status system and mandatory read order | AGENTS.md, docs/status/*
2026-02-27 | documentation-revision-vertical-orchestrator | revised plan/quality/security docs to decision-complete vertical intelligence + component contract model; added ADR-005..007 and plan files 50/60/70 | docs/plan/*, docs/quality/*, docs/security/*, docs/status/*
2026-02-27 | vs3-imp-001-monorepo-scaffold | added npm workspace scaffold (`apps/*`, `packages/*`) with bridge packages while preserving legacy runtime paths; verified with full test run | package.json, package-lock.json, README.md, apps/*, packages/*, docs/status/*
2026-02-27 | vs3-imp-002-ts-toolchain-baseline | added workspace TypeScript, ESLint, Prettier, and Vitest baseline configs/scripts with compatibility-safe test split (`node --test` + `vitest`) | package.json, package-lock.json, tsconfig*.json, .eslintrc.cjs, .eslintignore, .prettier*, vitest.config.ts, tests/vitest/*, docs/status/*
2026-02-27 | vs3-imp-003-schema-contracts | implemented canonical `packages/schema` contracts in TypeScript + Zod from plan docs and added contract validation tests | packages/schema/*, tests/vitest/schema-contracts.vitest.ts, docs/status/*
2026-02-27 | vs3-imp-004-additive-api-routes | added `/api/v1` additive route skeletons for v3 lifecycle families with deterministic reason codes and integration coverage while preserving existing endpoints | api/routes/v1.js, api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, docs/status/*
2026-02-27 | vs3-imp-005-006-007-guards-compose-publish | implemented review transition guard service, deterministic compose/copy bounded generation skeleton, and publish gate evaluator with unit tests | api/controllers/v3-orchestration.controller.js, services/review-transition-guard-service.js, services/compose-copy-service.js, services/publish-gate-service.js, tests/review-transition-guard-service.test.js, tests/compose-copy-service.test.js, tests/publish-gate-service.test.js, tests/api-v3-routes.test.js, docs/status/*
2026-02-27 | vs3-imp-008-secret-ref-acl | implemented secret-ref metadata model hardening with `internal_admin` ACL, strict ref segment validation, no-plaintext payload guard, audit event emission, and schema/test coverage | api/controllers/v3-orchestration.controller.js, packages/schema/src/index.ts, tests/api-v3-routes.test.js, tests/vitest/schema-contracts.vitest.ts, docs/status/*
2026-02-27 | vs3-imp-009-ops-review-flow | implemented ops review flow with proposal state tracking, `internal_admin`-scoped review transitions, state-gated variant selection, and state-gated override versioning | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, docs/status/*
2026-02-27 | vs3-imp-010-public-runtime-snapshot-skeleton | implemented public runtime snapshot skeleton with host resolution, immutable snapshot fetch endpoints, publish-time snapshot storage keys, and public-web runtime client tests | api/controllers/v3-orchestration.controller.js, api/routes/v1.js, apps/public-web/runtime-snapshot-client.js, apps/public-web/README.md, tests/api-v3-routes.test.js, tests/public-runtime-snapshot-client.test.js, docs/status/*
2026-02-27 | vs3-imp-011-doc-acceptance-harness | added executable documentation acceptance harness that validates rollout tests 1-8 and acceptance scenarios 4.1-4.4 against docs and v3 API behavior | tests/docs-acceptance-harness.test.js, docs/status/*
2026-02-27 | vs3-imp-012-runtime-rollback-repoint | implemented runtime rollback repointing to reactivate exact prior immutable versions and added regression coverage for resolve-after-rollback behavior | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, docs/status/*
2026-02-27 | vs3-ops-001-env-baseline-curation | curated lean `.env` baseline from docs/plan/runtime usage, aligned env docs, and prefilled local `.env` template for future setup | .env.example, README.md, docs/status/*
2026-02-27 | vs3-imp-013-publish-rollback-acl | enforced `internal_admin` ACL for publish/rollback state-changing endpoints and updated API + acceptance harness tests | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/status/*
2026-02-27 | vs3-imp-014-runtime-live-immutability-coverage | added regression tests to prove post-publish draft edits do not change active live runtime version/snapshot | tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/status/*
2026-02-27 | vs3-imp-015-storage-key-runtime-fetch | added storage-key-only public runtime snapshot endpoint and updated runtime client/tests to fetch immutable snapshots by storage key from resolve output | api/controllers/v3-orchestration.controller.js, api/routes/v1.js, apps/public-web/runtime-snapshot-client.js, apps/public-web/README.md, tests/api-v3-routes.test.js, tests/public-runtime-snapshot-client.test.js, tests/docs-acceptance-harness.test.js, docs/status/*
2026-02-27 | vs3-imp-016-runtime-latency-baseline-check | added executable WS-E local latency baseline measurement for resolve+snapshot runtime path in acceptance harness | tests/docs-acceptance-harness.test.js, docs/status/*
2026-02-27 | vs3-imp-017-audit-events-endpoint | added internal-admin audit trail read endpoint with filtering/limits and regression coverage for privileged action visibility | api/controllers/v3-orchestration.controller.js, api/routes/v1.js, tests/api-v3-routes.test.js, docs/status/*
2026-02-27 | vs3-imp-018-security-gate-reason-codes | added deterministic security gate reason-code output to publish gate responses and aligned service/acceptance tests with release security policy codes | services/publish-gate-service.js, api/controllers/v3-orchestration.controller.js, tests/publish-gate-service.test.js, tests/docs-acceptance-harness.test.js, docs/status/*
2026-02-27 | vs3-imp-019-quality-gate-families | added deterministic quality report gate-family outcomes (COPY/LAYOUT/MEDIA/LEGAL) with API and acceptance harness coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/status/*
2026-02-27 | vs3-imp-020-security-report-artifact-gate-contract | added deterministic security latest output contract with release/version identifiers, severity counts, gate decision reason code, and JSON/markdown/gate artifact references plus API+acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/status/*
2026-02-27 | vs3-imp-021-wsg-rotation-runbook-contract-check | added explicit secret rotation runbook documentation and executable WS-G contract check for naming, internal-admin scope, and audit-events read path | docs/security/SECRET_ROTATION_RUNBOOK.md, docs/security/README.md, tests/docs-acceptance-harness.test.js, docs/status/*
2026-02-27 | vs3-imp-022-security-findings-top-level-contract | aligned security latest endpoint with required findings JSON top-level fields (`releaseId/siteId/versionId/generatedAt/findings`) and expanded API/acceptance assertions | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/status/*
2026-02-27 | vs3-imp-023-security-latest-from-publish-attempts | persisted normalized security report outcomes on publish attempts and updated `/security/latest` to return real deterministic gate decisions with blocked/non-blocking transition coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/status/*
2026-02-27 | vs3-imp-024-publish-audit-events | added explicit audit events for blocked and successful publish attempts (`ops_publish_blocked`, `ops_publish_succeeded`) and verified privileged audit trail visibility in API and acceptance harness tests | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/status/*
2026-02-27 | vs3-imp-025-copy-selection-audit-events | added `ops_copy_selected` audit emission for copy selection mutations and verified provenance audit visibility in API and acceptance harness flows | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/status/*
2026-02-27 | vs3-imp-026-quality-latest-from-publish-attempts | persisted normalized quality report outcomes on publish attempts and updated `/quality/latest` to return real deterministic gate-family outcomes with blocked/non-blocking transition coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/status/*
2026-02-27 | vs3-imp-027-tenant-bootstrap-vertical-acl-audit | enforced `internal_admin` ACL and added privileged audit events for tenant creation, extraction bootstrap, and vertical research build mutations, with API and acceptance contract updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/status/*
2026-02-27 | vs3-imp-028-copy-generation-audit-events | added `ops_copy_generated` audit emission for copy generation mutations and verified provenance trail visibility in API and acceptance harness flows | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/status/*
2026-02-27 | vs3-imp-029-compose-copy-acl-hardening | enforced `internal_admin` ACL on compose/copy mutating endpoints and aligned API/acceptance coverage with explicit unauthorized-access checks | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/status/*
2026-02-27 | vs3-imp-030-cms-webhook-signature-audit-hardening | enforced signed webhook verification for CMS publish ingress, emitted audited enqueue events, and added API/WS-C acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/status/*
2026-02-27 | vs3-imp-031-non-public-read-auth-hardening | enforced tenant-member/internal-admin auth on non-public v3 read endpoints and added forbidden-path + WS-B contract coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/status/*
2026-02-27 | vs3-imp-032-compose-copy-prompt-audit-contract | persisted structured compose/copy prompt payload fields in audit events for reproducibility and added API/acceptance assertions for contract keys | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/status/*
2026-02-27 | vs3-imp-033-error-envelope-contract-hardening | standardized API error envelopes across middleware and not-found paths with mandatory `requestId` + `details` fields and added API/WS-A coverage | api/server.js, api/middleware/error-handler.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/status/*
2026-02-27 | vs3-imp-034-bootstrap-evidence-normalization | implemented extraction bootstrap `ExtractedField` normalization with low-confidence TODO nulling, persisted draft evidence records, and added API/WS-B coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/status/*
2026-02-27 | vs3-imp-035-owner-copy-select-policy-gate | allowed owner copy selection only when site policy enables draft edits, preserved internal-admin default, and added API/WS-B coverage including selected-by-role audit assertions | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/status/*
2026-02-27 | vs3-imp-036-low-confidence-publish-pre-gate | enforced publish pre-gate for unresolved required low-confidence extraction TODO fields with deterministic error code and blocked audit metadata | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/status/*
2026-02-27 | vs3-imp-037-copy-generate-mode-contract | enforced `highImpactOnlyThreeVariants` request contract (`true` only when provided) for copy generation and added API + WS-D acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-038-copy-select-selection-contract | enforced `POST /copy/select` selection tuple validation (`slotId`/`locale`/`candidateId`) and candidate slot-locale coherence checks with API + acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-039-copy-generate-locales-allowlist | enforced `POST /copy/generate` locale allow-list (`cs-CZ`,`en-US`) with unsupported-locale rejection and duplicate-locale normalization, plus API + WS-D acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-040-copy-select-unique-tuples | enforced `POST /copy/select` uniqueness for `slotId`+`locale` tuples to prevent conflicting selections in a single request, with API + WS-D acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-041-copy-generate-require-vertical-version | enforced required `verticalStandardVersion` on `POST /copy/generate` and updated API + WS-D acceptance coverage for prompt contract reproducibility | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-042-copy-select-non-empty | enforced non-empty `selections` arrays for `POST /copy/select` while preserving unauthorized-first auth semantics, with API + WS-D acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-043-copy-select-selected-by-provenance | enforced `selectedBy` provenance checks for `POST /copy/select` (payload role must match authenticated actor when provided) and persisted server-derived selector role with API + WS-D acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-044-compose-catalog-contract-validation | enforced catalog-version component contract validation for compose (`component_contract_not_found` on unknown catalogs) and added `catalogVersion` filtering to component contract listing with API + WS-D acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-045-overrides-required-components-validation | enforced `POST /overrides` validation so `requiredComponents` must reference loaded component contract IDs, returning deterministic `invalid_override_payload` details for unknown IDs, with API + WS-D acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-046-overrides-section-taxonomy-validation | enforced `POST /overrides` section-array validation for `requiredSections`/`excludedSections`/`pinnedSections` against an allowed section taxonomy, with deterministic `invalid_override_payload` details and API + WS-D acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-047-overrides-section-conflict-validation | enforced `POST /overrides` conflict checks so section directives cannot overlap across `requiredSections`/`excludedSections` or `pinnedSections`/`excludedSections`, with deterministic `invalid_override_payload` details and API + WS-D acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-048-overrides-array-uniqueness-validation | enforced `POST /overrides` duplicate-value rejection across override array fields with deterministic `invalid_override_payload` details, and added API + WS-D acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-049-overrides-non-empty-directive-guard | enforced `POST /overrides` requirement for at least one non-empty override array to prevent no-op mutations, with deterministic `invalid_override_payload` details and API + WS-D acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-050-overrides-string-normalization-and-blank-rejection | enforced trim-normalized override string arrays for `POST /overrides`, rejected blank/whitespace values, and validated duplicate detection/storage on normalized values with API + WS-D acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-051-overrides-unknown-top-level-fields | enforced strict `POST /overrides` top-level payload shape by rejecting unknown fields with deterministic `invalid_override_payload` details, and added API + WS-D acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-052-copy-select-unknown-field-guard | enforced strict `POST /copy/select` request shape by rejecting unknown top-level keys and unknown per-selection object fields with deterministic `validation_error` details, and added API + WS-D acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-053-copy-generate-unknown-field-guard | enforced strict `POST /copy/generate` request shape by rejecting unknown top-level keys with deterministic `validation_error` details, and added API + WS-D acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-054-compose-propose-unknown-field-guard | enforced strict `POST /compose/propose` request shape by rejecting unknown top-level keys with deterministic `validation_error` details, and added API + WS-D acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-055-compose-select-unknown-field-guard | enforced strict `POST /compose/select` request shape by rejecting unknown top-level keys with deterministic `validation_error` details, and added API + WS-D acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-056-review-transition-unknown-field-guard | enforced strict `POST /review/transition` request shape by rejecting unknown top-level keys with deterministic `validation_error` details, and added API + WS-D acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-057-publish-unknown-field-guard | enforced strict `POST /publish` request shape by rejecting unknown top-level keys with deterministic `validation_error` details, and added API + WS-F acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-058-cms-webhook-unknown-field-guard | enforced strict `POST /cms/webhooks/publish` request shape by rejecting unknown top-level keys with deterministic `validation_error` details, and added API + WS-C acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-059-secret-ref-unknown-field-guard | enforced strict `POST /secrets/refs` request shape by rejecting unknown top-level keys with deterministic `validation_error` details, and added API + WS-G acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-062-tenant-create-unknown-field-guard | enforced strict `POST /tenants` request shape by rejecting unknown top-level keys with deterministic `validation_error` details, and added API + WS-B acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-061-bootstrap-unknown-field-guard | enforced strict `POST /sites/:siteId/bootstrap-from-extraction` request shape by rejecting unknown top-level keys with deterministic `validation_error` details, and added API + WS-B acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-060-vertical-research-build-unknown-field-guard | enforced strict `POST /verticals/:verticalKey/research/build` request shape by rejecting unknown top-level keys with deterministic `validation_error` details, and added API + WS-B acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-063-rollback-unknown-field-guard | enforced strict `POST /sites/:siteId/rollback/:versionId` request shape by rejecting unknown top-level keys with deterministic `validation_error` details, and added API + WS-E acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-064-vertical-research-sources-validation-details | enforced deterministic source-class validation details on `POST /verticals/:verticalKey/research/build` (`invalidSources`, `allowedSources`) for empty/unsupported `sources`, and added API + WS-B acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-065-vertical-research-source-domains-validation | enforced `POST /verticals/:verticalKey/research/build` `sourceDomains` validation for non-string/blank entries with deterministic `validation_error` details and persisted trim-normalized unique source-domain values, with API + WS-B acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-066-vertical-research-source-domains-domain-format | enforced `POST /verticals/:verticalKey/research/build` domain-format validation for `sourceDomains` values (rejecting malformed/non-domain entries with deterministic `validation_error` details) and lowercased valid hostnames before de-duplication, with API + WS-B acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-067-vertical-research-duplicate-sources-validation | enforced `POST /verticals/:verticalKey/research/build` duplicate-source validation (`duplicateSources`) with deterministic `validation_error` details, and added API + WS-B acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-068-vertical-research-duplicate-source-domains-validation | enforced `POST /verticals/:verticalKey/research/build` duplicate-`sourceDomains` validation after trim/lowercase normalization with deterministic `validation_error` details (`duplicateSourceDomains`), and added API + WS-B acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-069-vertical-research-numeric-competitor-count-contract | enforced `POST /verticals/:verticalKey/research/build` numeric integer type validation for `targetCompetitorCount` (rejecting string-coerced values) and updated API + WS-B acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-070-vertical-research-source-domains-array-type | enforced `POST /verticals/:verticalKey/research/build` optional `sourceDomains` array-type validation (rejecting non-array payloads with deterministic `validation_error` details) and updated API + WS-B acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-071-vertical-research-sources-array-type | enforced `POST /verticals/:verticalKey/research/build` `sources` array-type validation (rejecting non-array payloads with deterministic `validation_error` details) and updated API + WS-B acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-072-vertical-research-competitor-minimum-details | enforced `POST /verticals/:verticalKey/research/build` deterministic competitor-minimum validation details (`minimumTargetCompetitorCount`, `receivedTargetCompetitorCount`) for `insufficient_competitor_sample` errors and updated API + WS-B acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-073-bootstrap-extracted-fields-array-type | enforced `POST /sites/:siteId/bootstrap-from-extraction` `extractedFields` array-type validation (rejecting non-array payloads with deterministic `validation_error` details) and updated API + WS-B acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-074-bootstrap-low-confidence-boolean-type | enforced `POST /sites/:siteId/bootstrap-from-extraction` `lowConfidence` boolean-type validation (rejecting non-boolean payloads with deterministic `validation_error` details) and updated API + WS-B acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-075-bootstrap-site-policy-object-type | enforced `POST /sites/:siteId/bootstrap-from-extraction` `sitePolicy` object-type validation (rejecting non-object payloads with deterministic `validation_error` details) and updated API + WS-B acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-27 | vs3-imp-076-bootstrap-site-policy-nested-unknown-field-guard | enforced `POST /sites/:siteId/bootstrap-from-extraction` nested `sitePolicy` request-shape validation by rejecting unknown keys with deterministic `validation_error` details (`invalidField`, `unknownFields`), and updated API + WS-B acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-077-bootstrap-extracted-fields-item-object-type | enforced `POST /sites/:siteId/bootstrap-from-extraction` `extractedFields` item-type validation by rejecting non-object entries with deterministic `validation_error` details (`invalidField`, `invalidItemIndexes`), and updated API + WS-B acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-078-bootstrap-extracted-fields-nested-unknown-field-guard | enforced `POST /sites/:siteId/bootstrap-from-extraction` nested `extractedFields` item request-shape validation by rejecting unknown item keys with deterministic `validation_error` details (`invalidField`, `invalidItemFields`), and updated API + WS-B acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-079-bootstrap-extracted-fields-field-path-type | enforced `POST /sites/:siteId/bootstrap-from-extraction` `extractedFields[].fieldPath` validation by rejecting non-string or blank provided values with deterministic `validation_error` details (`invalidField`, `invalidItemIndexes`), and updated API + WS-B acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-080-bootstrap-extracted-fields-source-url-type | enforced `POST /sites/:siteId/bootstrap-from-extraction` `extractedFields[].sourceUrl` validation by rejecting invalid provided values (must be non-empty string or null) with deterministic `validation_error` details (`invalidField`, `invalidItemIndexes`), and updated API + WS-B acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-081-bootstrap-extracted-fields-method-allow-list | enforced `POST /sites/:siteId/bootstrap-from-extraction` `extractedFields[].method` allow-list validation (rejecting invalid provided values with deterministic `validation_error` details: `invalidField`, `invalidItemIndexes`, `allowedMethods`) and updated API + WS-B acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-082-bootstrap-extracted-fields-required-type | enforced `POST /sites/:siteId/bootstrap-from-extraction` `extractedFields[].required` validation by rejecting non-boolean provided values with deterministic `validation_error` details (`invalidField`, `invalidItemIndexes`), and updated API + WS-B acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-083-bootstrap-extracted-fields-confidence-type | enforced `POST /sites/:siteId/bootstrap-from-extraction` `extractedFields[].confidence` validation by rejecting non-numeric provided values with deterministic `validation_error` details (`invalidField`, `invalidItemIndexes`), and updated API + WS-B acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-084-bootstrap-extracted-fields-confidence-range | enforced `POST /sites/:siteId/bootstrap-from-extraction` `extractedFields[].confidence` range validation by rejecting provided values outside `[0,1]` with deterministic `validation_error` details (`invalidField`, `invalidItemIndexes`, `allowedRange`), and updated API + WS-B acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-085-bootstrap-extracted-fields-extracted-at-non-empty | enforced `POST /sites/:siteId/bootstrap-from-extraction` `extractedFields[].extractedAt` validation by rejecting non-string or blank provided values with deterministic `validation_error` details (`invalidField`, `invalidItemIndexes`), and updated API + WS-B acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-086-bootstrap-extracted-fields-extracted-at-iso8601 | enforced `POST /sites/:siteId/bootstrap-from-extraction` `extractedFields[].extractedAt` ISO-8601 validation by rejecting invalid datetime strings with deterministic `validation_error` details (`invalidField`, `invalidItemIndexes`), and updated API + WS-B acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-087-copy-generate-locales-array-type | enforced `POST /sites/:siteId/copy/generate` `locales` array-type validation by rejecting non-array provided values with deterministic `validation_error` details (`invalidField`) instead of coercing to empty arrays, and updated API + WS-D acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-088-copy-generate-locales-item-type | enforced `POST /sites/:siteId/copy/generate` `locales` item-type validation by rejecting non-string entries with deterministic `validation_error` details (`invalidField`, `invalidItemIndexes`), and updated API + WS-D acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-089-copy-generate-locales-duplicate-values | enforced `POST /sites/:siteId/copy/generate` duplicate-locale rejection with deterministic `validation_error` details (`invalidField`, `duplicateLocales`) instead of silent de-duplication, and updated API + WS-D acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-090-copy-generate-missing-locales-details | enforced `POST /sites/:siteId/copy/generate` required-locale validation details by returning deterministic `validation_error` metadata (`invalidField`, `missingLocales`) when `cs-CZ`/`en-US` are missing, and updated API + WS-D acceptance coverage | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-091-copy-generate-high-impact-invalid-field-standardization | standardized `POST /sites/:siteId/copy/generate` high-impact mode validation details to use deterministic `invalidField` metadata (replacing `field`) for `highImpactOnlyThreeVariants` request-shape errors, with API + WS-D acceptance coverage updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-092-copy-generate-unsupported-locales-invalid-field-standardization | standardized `POST /sites/:siteId/copy/generate` unsupported-locale validation details to use deterministic `invalidField` metadata (replacing `field`), with API + WS-D acceptance coverage updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-093-copy-generate-missing-version-invalid-field-details | standardized `POST /sites/:siteId/copy/generate` missing-version validation to include deterministic `validation_error` details (`invalidField`) for `verticalStandardVersion`, with API + WS-D acceptance coverage updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-094-copy-select-top-level-invalid-field-standardization | standardized `POST /sites/:siteId/copy/select` top-level selection validation details to use deterministic `invalidField` metadata (replacing `field`) for empty selections, tuple mismatch, duplicate tuple, and selectedBy actor mismatch errors, with API + WS-D acceptance coverage updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-095-copy-select-per-item-invalid-field-standardization | standardized `POST /sites/:siteId/copy/select` per-item selection validation details to use deterministic `invalidField` metadata (replacing `field`) for object/item shape and field-level errors, and added API + WS-D coverage for index-aware path reporting | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-096-copy-select-selections-required-invalid-field-details | added deterministic `invalidField` details for `POST /sites/:siteId/copy/select` when `selections` is missing or non-array, and added API + WS-D assertions for both request-shape error paths | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-097-copy-select-draft-id-invalid-field-details | added deterministic `invalidField` details for `POST /sites/:siteId/copy/select` when `draftId` is missing or non-string, and added API + WS-D contract coverage for both request-shape error paths | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-098-copy-select-missing-candidate-details | exposed deterministic `copy_candidate_not_found` tuple details (`candidateId`, `slotId`, `locale`) for `POST /sites/:siteId/copy/select` missing-candidate errors, with API + WS-D acceptance coverage and plan-contract updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-099-copy-select-locale-allowed-locales-details | added deterministic `allowedLocales` details for `POST /sites/:siteId/copy/select` per-item invalid locale validation alongside `invalidField`, with API + WS-D coverage and plan-contract updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-100-copy-select-selected-by-allowed-roles-details | added deterministic `allowedSelectedByRoles` details for `POST /sites/:siteId/copy/select` per-item invalid `selectedBy` validation alongside `invalidField`, with API + WS-D coverage and plan-contract updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-101-copy-select-unknown-top-level-invalid-field-details | added deterministic `invalidField: payload` details for `POST /sites/:siteId/copy/select` unknown top-level payload field validation errors, with API + WS-D coverage and plan-contract updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-102-copy-select-unknown-top-level-allowed-fields-details | added deterministic `allowedTopLevelFields` details for `POST /sites/:siteId/copy/select` unknown top-level payload field validation errors, with API + WS-D coverage and plan-contract updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-103-copy-select-unknown-selection-allowed-fields-details | added deterministic `allowedSelectionFields` details for `POST /sites/:siteId/copy/select` unknown per-item selection field validation errors, with API + WS-D coverage and plan-contract updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-104-copy-select-unknown-fields-sorted-details | sorted `POST /sites/:siteId/copy/select` unknown-field detail arrays lexicographically for top-level and per-item validation errors, with API + WS-D coverage and plan-contract updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-105-copy-select-mismatch-tuple-comparison-details | added deterministic candidate-vs-request tuple comparison details (`candidateSlotId`, `candidateLocale`, `requestedSlotId`, `requestedLocale`) for `POST /sites/:siteId/copy/select` slot/locale mismatch validation errors, with API + WS-D coverage and plan-contract updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-106-copy-select-unknown-top-level-allowed-fields-sorted-details | sorted `POST /sites/:siteId/copy/select` unknown top-level payload validation `allowedTopLevelFields` detail values lexicographically for deterministic operator output, with API + WS-D coverage and plan-contract updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-107-copy-select-unknown-selection-allowed-fields-sorted-details | sorted `POST /sites/:siteId/copy/select` unknown per-item selection-field validation `allowedSelectionFields` detail values lexicographically for deterministic operator output, with API + WS-D coverage and plan-contract updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-108-copy-select-invalid-locale-allowed-values-sorted-details | sorted `POST /sites/:siteId/copy/select` invalid locale validation `allowedLocales` detail values lexicographically for deterministic operator output, with API + WS-D coverage and plan-contract updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-109-copy-select-invalid-selected-by-role-allowed-values-sorted-details | sorted `POST /sites/:siteId/copy/select` invalid `selectedBy` validation `allowedSelectedByRoles` detail values lexicographically for deterministic operator output, with API + WS-D coverage and plan-contract updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-110-copy-select-missing-candidate-requested-tuple-alias-details | added deterministic `copy_candidate_not_found` tuple aliases (`requestedSlotId`, `requestedLocale`) alongside existing tuple fields for `POST /sites/:siteId/copy/select`, with API + WS-D coverage and plan-contract updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-111-copy-select-missing-candidate-selection-index-details | added deterministic `selectionIndex` details for `POST /sites/:siteId/copy/select` `copy_candidate_not_found` errors, with API + WS-D coverage and plan-contract updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-112-copy-select-mismatch-selection-index-details | added deterministic `selectionIndex` details for `POST /sites/:siteId/copy/select` tuple-mismatch validation errors, with API + WS-D coverage and plan-contract updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-113-copy-select-duplicate-tuple-index-details | added deterministic `firstSelectionIndex` and `duplicateSelectionIndex` details for `POST /sites/:siteId/copy/select` duplicate tuple validation errors, with API + WS-D coverage and plan-contract updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-114-copy-select-selected-by-mismatch-selection-index-details | added deterministic `selectionIndex` details for `POST /sites/:siteId/copy/select` selectedBy actor-mismatch validation errors, with API + WS-D coverage and plan-contract updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-115-copy-select-selection-level-index-metadata-contract-alignment | aligned `docs/plan/30-api.md` and WS-D acceptance coverage to explicitly require deterministic selection-level index metadata where applicable for copy-select error families | docs/plan/30-api.md, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/status/*
2026-02-28 | vs3-imp-116-copy-select-per-item-object-shape-selection-index-details | added deterministic `selectionIndex` details for `POST /sites/:siteId/copy/select` per-item object-shape validation errors, with API + WS-D coverage and plan-contract updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-117-copy-select-per-item-unknown-field-selection-index-details | added deterministic `selectionIndex` details for `POST /sites/:siteId/copy/select` per-item unknown-field validation errors, with API + WS-D coverage and plan-contract updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-118-copy-select-per-item-required-field-selection-index-details | added deterministic `selectionIndex` details for `POST /sites/:siteId/copy/select` per-item required-field validation errors (`slotId`/`locale`/`candidateId`), with API + WS-D coverage and plan-contract updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-119-copy-select-per-item-invalid-selected-by-selection-index-details | added deterministic `selectionIndex` details for `POST /sites/:siteId/copy/select` per-item invalid `selectedBy` allow-list validation errors, with API + WS-D coverage and plan-contract updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-120-copy-select-per-item-selection-index-contract-alignment | aligned copy-select per-item selection-index contract wording and acceptance labels so per-item validation paths consistently assert deterministic `selectionIndex` metadata, with API + WS-D coverage updates | docs/plan/30-api.md, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/status/*
2026-02-28 | vs3-imp-121-copy-select-draftid-type-metadata | added deterministic `expectedType`/`receivedType` details for `POST /sites/:siteId/copy/select` `draftId` validation errors, with API + WS-D coverage and plan-contract updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-122-copy-select-selections-type-metadata | added deterministic `expectedType`/`receivedType` details for `POST /sites/:siteId/copy/select` `selections` required/type validation errors, with API + WS-D coverage and plan-contract updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-123-copy-select-empty-selections-cardinality-metadata | added deterministic `minimumSelections`/`receivedSelections` details for `POST /sites/:siteId/copy/select` empty-array validation errors, with API + WS-D coverage and plan-contract updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-124-copy-select-selectedby-role-metadata | added deterministic `expectedSelectedBy`/`receivedSelectedBy` details for `POST /sites/:siteId/copy/select` selectedBy actor-mismatch validation errors, with API + WS-D coverage and plan-contract updates | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-125-copy-select-top-level-metadata-label-alignment | aligned copy-select top-level metadata contract labels across API/WS-D acceptance tests to explicitly require deterministic type/cardinality/role metadata keys, with status docs synchronization | tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/status/*
2026-02-28 | vs3-imp-126-copy-select-per-item-object-shape-type-metadata | added deterministic expected/received type metadata for copy-select non-object selection-item validation errors, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-127-copy-select-slotid-type-metadata | added deterministic expected/received type metadata for copy-select per-item slotId validation errors, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-128-copy-select-candidateid-type-metadata | added deterministic expected/received type metadata for copy-select per-item candidateId validation errors, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-129-copy-select-selectedby-type-metadata | added deterministic expected/received type metadata for copy-select per-item selectedBy validation errors, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-130-copy-select-locale-type-metadata | added deterministic expected/received type metadata for copy-select per-item locale validation errors, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-131-copy-generate-vertical-version-type-metadata | added deterministic expected/received type metadata for copy-generate verticalStandardVersion validation errors, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-132-copy-generate-locales-array-type-metadata | added deterministic expected/received type metadata for copy-generate non-array locales validation errors, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-133-copy-generate-locales-item-type-metadata | added deterministic item type metadata for copy-generate non-string locales item validation errors (expectedItemType, receivedItemTypes), updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-134-copy-generate-high-impact-type-metadata | added deterministic expected/received type metadata for copy-generate highImpactOnlyThreeVariants validation errors, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-135-copy-generate-unknown-top-level-invalid-field | added deterministic invalidField metadata (payload) for copy-generate unknown top-level payload validation errors, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-136-copy-generate-unknown-top-level-allowed-fields | added deterministic allowedTopLevelFields metadata for copy-generate unknown top-level payload validation errors, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-137-copy-generate-unknown-fields-sorted-details | sorted copy-generate unknown top-level payload unknownFields details lexicographically for deterministic operator output, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-138-copy-generate-unsupported-locale-detail-sorting | sorted copy-generate unsupported locale validation detail arrays (`unsupportedLocales`, `allowedLocales`) lexicographically for deterministic operator output, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-139-copy-generate-duplicate-locale-detail-sorting | sorted copy-generate duplicate locale validation `duplicateLocales` details lexicographically for deterministic operator output, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-140-compose-propose-unknown-field-sorting | sorted compose-propose unknown top-level payload `unknownFields` details lexicographically for deterministic operator output, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-141-compose-select-unknown-field-sorting | sorted compose-select unknown top-level payload `unknownFields` details lexicographically for deterministic operator output, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-142-tenant-create-unknown-field-sorting | sorted tenant-create unknown top-level payload `unknownFields` details lexicographically for deterministic operator output, updated API + WS-B assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-143-bootstrap-unknown-field-sorting | sorted bootstrap-from-extraction unknown top-level payload `unknownFields` details lexicographically for deterministic operator output, updated API + WS-B assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-144-vertical-research-unknown-field-sorting | sorted vertical-research-build unknown top-level payload `unknownFields` details lexicographically for deterministic operator output, updated API + WS-B assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-145-review-transition-unknown-field-sorting | sorted review-transition unknown top-level payload `unknownFields` details lexicographically for deterministic operator output, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-146-publish-unknown-field-sorting | sorted publish unknown top-level payload `unknownFields` details lexicographically for deterministic operator output, updated API + WS-F assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-147-rollback-unknown-field-sorting | sorted rollback unknown top-level payload `unknownFields` details lexicographically for deterministic operator output, updated API + WS-E assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-148-cms-webhook-unknown-field-sorting | sorted CMS publish-webhook unknown top-level payload `unknownFields` details lexicographically for deterministic operator output, updated API + WS-C assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-149-secret-ref-unknown-field-sorting | sorted secret-ref unknown top-level payload `unknownFields` details lexicographically for deterministic operator output, updated API + WS-G assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-150-overrides-unknown-field-sorting | sorted overrides unknown top-level payload `unknownFields` details lexicographically for deterministic operator output, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-151-bootstrap-sitepolicy-unknown-field-sorting | sorted bootstrap sitePolicy unknown-field `unknownFields` details lexicographically for deterministic operator output, updated API + WS-B assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-152-bootstrap-extracted-fields-unknown-field-sorting | sorted bootstrap extractedFields unknown nested item-field unknownFields detail arrays lexicographically for deterministic operator output, updated API + WS-B assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-153-vertical-research-duplicate-sources-sorting | sorted vertical research build duplicate sources validation duplicateSources details lexicographically for deterministic operator output, updated API + WS-B assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-154-vertical-research-duplicate-source-domains-sorting | sorted vertical research build duplicate sourceDomains validation duplicateSourceDomains details lexicographically for deterministic operator output, updated API + WS-B assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-155-vertical-research-invalid-sources-sorting | sorted vertical research build unsupported sources validation invalidSources details lexicographically for deterministic operator output, updated API + WS-B assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-156-vertical-research-invalid-source-domains-sorting | sorted vertical research build invalid sourceDomains validation invalidSourceDomains details deterministically (string lexical order), updated API + WS-B assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-157-overrides-duplicate-values-sorting | sorted override payload duplicate-value validation duplicateValues details lexicographically for deterministic operator output, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-158-overrides-unknown-sections-sorting | sorted override payload unknown section-key validation unknownSections details lexicographically for deterministic operator output, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-159-overrides-conflicting-sections-sorting | sorted override payload section-overlap validation conflictingSections details lexicographically for deterministic operator output, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-160-overrides-unknown-components-sorting | sorted override payload unknown required-component validation unknownComponentIds details lexicographically for deterministic operator output, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-161-overrides-no-op-fields-sorting | sorted override no-op validation fields detail arrays lexicographically for deterministic operator output, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-162-overrides-unknown-top-level-allowed-fields | added deterministic allowedTopLevelFields metadata for override unknown top-level payload validation errors, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-163-overrides-unknown-components-allowed-fields | added deterministic allowedComponentIds metadata for override unknown requiredComponents validation errors, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-164-overrides-unknown-sections-allowed-fields | added deterministic allowedSectionKeys metadata for override unknown section-key validation errors, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-165-overrides-no-op-cardinality-metadata | added deterministic no-op cardinality metadata (minimumNonEmptyOverrideArrays, receivedNonEmptyOverrideArrays) for override empty-payload validation errors, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-166-overrides-blank-value-invalid-indexes | added deterministic invalidIndexes metadata for override blank-string array-value validation errors, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-167-overrides-duplicate-value-indexes | added deterministic duplicateIndexes metadata for override duplicate-value validation errors, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-168-overrides-unknown-top-level-invalid-field | added deterministic invalidField payload metadata for override unknown top-level validation errors, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-169-overrides-array-type-metadata | added deterministic type/item-type metadata for override array-shape validation errors (`must be an array`, `must be an array of strings`), updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-170-compose-propose-unknown-top-level-invalid-field | added deterministic invalidField payload metadata for compose-propose unknown top-level validation errors, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-171-compose-select-unknown-top-level-invalid-field | added deterministic invalidField payload metadata for compose-select unknown top-level validation errors, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-172-review-transition-unknown-top-level-invalid-field | added deterministic invalidField payload metadata for review-transition unknown top-level validation errors, updated API + WS-D assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-173-publish-unknown-top-level-invalid-field | added deterministic invalidField payload metadata for publish unknown top-level validation errors, updated API + WS-F assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-174-rollback-unknown-top-level-invalid-field | added deterministic invalidField payload metadata for rollback unknown top-level validation errors, updated API + WS-E assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-175-tenant-unknown-top-level-invalid-field | added deterministic invalidField payload metadata for tenant-create unknown top-level validation errors, updated API + WS-B assertions, and aligned status docs | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/status/*
2026-02-28 | vs3-imp-176-bootstrap-unknown-top-level-invalid-field | added deterministic invalidField payload metadata for bootstrap unknown top-level validation errors, updated API + WS-B assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-177-vertical-research-unknown-top-level-invalid-field | added deterministic invalidField payload metadata for vertical-research unknown top-level validation errors, updated API + WS-B assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-178-cms-webhook-unknown-top-level-invalid-field | added deterministic invalidField payload metadata for CMS webhook unknown top-level validation errors, updated API + WS-C assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-179-secret-ref-unknown-top-level-invalid-field | added deterministic invalidField payload metadata for secret-ref unknown top-level validation errors, updated API + WS-G assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-180-secret-ref-invalidfield-detail-key-standardization | standardized secret-ref required/segment `validation_error` detail key usage to deterministic `invalidField` metadata, expanded API + WS-G assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-181-secret-ref-conflict-invalidfield-metadata | standardized secret-ref tenant-reassignment `secret_ref_conflict` metadata to deterministic `invalidField: tenantId`, expanded API + WS-G assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
2026-02-28 | vs3-imp-182-secret-ref-plaintext-invalidfield-metadata | standardized secret-ref plaintext payload-key rejection metadata to deterministic `invalidField`, expanded API + WS-G assertions, and aligned API contract text | api/controllers/v3-orchestration.controller.js, tests/api-v3-routes.test.js, tests/docs-acceptance-harness.test.js, docs/plan/30-api.md, docs/status/*
